<UserControl
	x:Class="JocysCom.VS.AiCompanion.Engine.Controls.TemplateItemControl"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:Chat="clr-namespace:JocysCom.ClassLibrary.Controls.Chat"
	xmlns:Controls="clr-namespace:JocysCom.VS.AiCompanion.Engine.Controls"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:local="clr-namespace:JocysCom.VS.AiCompanion.Engine"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	x:Name="This"
	d:DesignHeight="320"
	d:DesignWidth="520"
	Loaded="This_Loaded"
	mc:Ignorable="d">
	<UserControl.Resources>
		<ResourceDictionary>
			<ResourceDictionary.MergedDictionaries>
				<ResourceDictionary Source="../JocysCom/Controls/Themes/Default.xaml" />
				<ResourceDictionary Source="../JocysCom/Controls/Themes/Icons.xaml" />
				<ResourceDictionary Source="../Resources/Icons/Icons_Default.xaml" />
			</ResourceDictionary.MergedDictionaries>
		</ResourceDictionary>
	</UserControl.Resources>
	<Grid>
		<Grid>
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto" />
				<RowDefinition Height="Auto" />
				<RowDefinition Height="Auto" />
				<RowDefinition Height="*" />
				<RowDefinition Height="Auto" />
			</Grid.RowDefinitions>
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="Auto" />
				<ColumnDefinition Width="Auto" />
				<ColumnDefinition Width="*" />
				<ColumnDefinition Width="Auto" />
			</Grid.ColumnDefinitions>
			<!--  Row 0  -->
			<Label
				Grid.Row="0"
				Grid.Column="1"
				VerticalAlignment="Center"
				Content="AI Companion"
				Visibility="{Binding BarPanelVisibility, ElementName=This}" />
			<StackPanel Grid.Row="0" Grid.Column="2" Orientation="Horizontal">
				<ComboBox Name="AiCompanionComboBox" Visibility="{Binding BarPanelVisibility, ElementName=This}" />
				<Label VerticalAlignment="Center" Content="AI Model" />
				<ComboBox Name="ModelComboBox" ItemsSource="{Binding AiModels, ElementName=This}" SelectedValue="{Binding AiModel}" />
				<Button
					Name="ModelRefreshButton"
					Grid.Row="1"
					Grid.Column="3"
					Margin="0,0,3,0"
					VerticalAlignment="Center"
					BorderBrush="Transparent"
					Click="ModelRefreshButton_Click"
					Style="{StaticResource ToolBarButton}"
					Visibility="{Binding BarPanelVisibility, ElementName=This}">
					<StackPanel Style="{StaticResource ButtonStackPanel}">
						<ContentControl Content="{StaticResource Icon_Refresh}" Focusable="False" Style="{StaticResource ButtonContentControl}" />
						<Label VerticalAlignment="Center" Content="Refresh" Style="{StaticResource ButtonLabel}" />
					</StackPanel>
				</Button>
			</StackPanel>
			<StackPanel
				Grid.Row="0"
				Grid.Column="2"
				HorizontalAlignment="Right"
				Orientation="Horizontal">
				<Button
					Name="BarToggleButton"
					Width="26"
					Height="26"
					Margin="2"
					Padding="0"
					HorizontalAlignment="Right"
					VerticalAlignment="Top"
					BorderBrush="Transparent"
					Click="BarToggleButton_Click"
					Style="{StaticResource ToolBarButton}">
					<StackPanel Style="{StaticResource ButtonStackPanel}">
						<ContentControl
							x:Name="ShowHideBarContent"
							VerticalAlignment="Bottom"
							Content="{StaticResource Icon_navigate_left2}"
							Focusable="False"
							Style="{StaticResource ButtonContentControl}" />
					</StackPanel>
				</Button>
			</StackPanel>
			<Button
				Name="ListToggleButton"
				Grid.Row="0"
				Grid.Column="0"
				Width="26"
				Height="26"
				Margin="2"
				Padding="0"
				HorizontalAlignment="Left"
				VerticalAlignment="Center"
				BorderBrush="Transparent"
				Click="ListToggleButton_Click"
				Style="{StaticResource ToolBarButton}">
				<StackPanel Style="{StaticResource ButtonStackPanel}">
					<ContentControl
						x:Name="ShowHideListContent"
						VerticalAlignment="Bottom"
						Content="{StaticResource Icon_navigate_left2}"
						Focusable="False"
						Style="{StaticResource ButtonContentControl}" />
				</StackPanel>
			</Button>
			<!--  Row 1  -->
			<Controls:IconUserControl
				x:Name="IconPanel"
				Grid.Row="1"
				Width="64"
				Height="64"
				VerticalAlignment="Top"
				Visibility="{Binding BarPanelVisibility, ElementName=This}" />
			<WrapPanel Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="3">
				<StackPanel Orientation="Vertical">
					<GroupBox Margin="0,0,3,3" VerticalAlignment="Top" Visibility="{Binding BarPanelVisibility, ElementName=This}">
						<GroupBox.Header>
							<StackPanel Orientation="Horizontal">
								<Label
									x:Name="CreativityLabel"
									Margin="0"
									Padding="0"
									Content="Creativity:"
									Visibility="{Binding BarPanelVisibility, ElementName=This}" />
								<Label Margin="0" Padding="6,0,0,0" VerticalAlignment="Center" Content="{Binding CreativityName, ElementName=This}" />
							</StackPanel>
						</GroupBox.Header>
						<StackPanel Orientation="Vertical">
							<Slider
								Name="CreativitySlider"
								Width="150"
								IsSnapToTickEnabled="True"
								Maximum="2"
								Minimum="0"
								TickFrequency="0.5"
								TickPlacement="BottomRight"
								Value="{Binding Creativity}" />
						</StackPanel>
					</GroupBox>
					<CheckBox Margin="6,0,0,0" Name="IsFavoriteCheckBox" Content="Show Icon in Toolbar" IsChecked="{Binding IsFavorite}" />
				</StackPanel>
				<GroupBox
					Grid.Row="1"
					Grid.Column="1"
					Margin="0,0,3,3"
					VerticalAlignment="Stretch"
					Visibility="{Binding BarPanelVisibility, ElementName=This}">
					<GroupBox.Header>
						<StackPanel Orientation="Horizontal">
							<Label
								Padding="0"
								Grid.Row="2"
								Grid.Column="1"
								VerticalAlignment="Center"
								Content="Automation"
								Visibility="{Binding BarPanelVisibility, ElementName=This}" />
						</StackPanel>
					</GroupBox.Header>
					<StackPanel
						Grid.Row="2"
						Grid.Column="2"
						Grid.ColumnSpan="2"
						Orientation="Horizontal"
						Visibility="{Binding BarPanelVisibility, ElementName=This}">
						<StackPanel VerticalAlignment="Top">
							<CheckBox Name="AutoSendCheckBox" Content="Send on Create" IsChecked="{Binding AutoSend}" />
							<CheckBox Name="AutoRemoveCheckBox" Content="Remove on Complete" IsChecked="{Binding AutoRemove}" />
						</StackPanel>
						<ComboBox
							Name="MessageBoxOperationComboBox"
							Margin="6,0,0,0"
							VerticalAlignment="Top"
							DisplayMemberPath="Value"
							ItemsSource="{Binding MessageBoxOperations, ElementName=This}"
							SelectedValue="{Binding MessageBoxOperation}"
							SelectedValuePath="Key" />
					</StackPanel>
				</GroupBox>
			</WrapPanel>
			<!--  Row 2  -->
			<Grid Grid.Row="2" Grid.ColumnSpan="4">
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto" />
					<RowDefinition Height="Auto" />
					<RowDefinition Height="Auto" />
				</Grid.RowDefinitions>
				<Border Background="{DynamicResource {x:Static SystemColors.ActiveBorderBrushKey}}" Opacity="0.4" />
				<Label
					Padding="2"
					HorizontalAlignment="Center"
					Content="Visual Studio Extension Options"
					Opacity="0.3"
					Visibility="{Binding BarPanelVisibility, ElementName=This}" />
				<Border Grid.Row="1" Background="{DynamicResource {x:Static SystemColors.ActiveBorderBrushKey}}" Opacity="0" />
				<WrapPanel Grid.Row="1" Orientation="Horizontal">
					<GroupBox Margin="3,0,3,3" VerticalAlignment="Stretch" Visibility="{Binding BarPanelVisibility, ElementName=This}">
						<GroupBox.Header>
							<StackPanel Orientation="Horizontal">
								<Label
									x:Name="AttachmentIcon"
									Padding="0"
									Margin="-2"
									VerticalAlignment="Center"
									Content="&#xE16C;"
									FontFamily="Segoe MDL2 Assets" />
								<Label
									x:Name="ContextTypeLabel"
									Padding="4,0,0,0"
									VerticalAlignment="Center"
									Content="Attachments" />
							</StackPanel>
						</GroupBox.Header>
						<StackPanel Orientation="Vertical">
							<Controls:EnumComboBox
								x:Name="AttachmentEnumComboBox"
								Margin="0,6,0,3"
								VerticalAlignment="Center"
								SelectedValue="{Binding AttachContext}" />
							<Separator Style="{DynamicResource MainSeparator}" />
						</StackPanel>
					</GroupBox>
					<GroupBox Margin="0,0,3,3" VerticalAlignment="Stretch" Visibility="{Binding BarPanelVisibility, ElementName=This}">
						<GroupBox.Header>
							<CheckBox
								Margin="0"
								Name="UseMacrosCheckBox"
								VerticalAlignment="Center"
								Content="Use Macros"
								IsChecked="{Binding UseMacros}" />
						</GroupBox.Header>
						<Grid>
							<Grid.ColumnDefinitions>
								<ColumnDefinition Width="Auto" />
								<ColumnDefinition Width="Auto" />
								<ColumnDefinition Width="Auto" />
								<ColumnDefinition Width="Auto" />
							</Grid.ColumnDefinitions>
							<Grid.RowDefinitions>
								<RowDefinition Height="Auto" />
								<RowDefinition Height="Auto" />
							</Grid.RowDefinitions>
							<local:PropertyComboBox
								x:Name="VsMacrosComboBox"
								Grid.Row="0"
								Grid.Column="1"
								Style="{StaticResource ComboBoxGrid}" />
							<Label
								Grid.Row="0"
								Grid.Column="0"
								VerticalAlignment="Center"
								Content="Environment" />
							<Label
								Grid.Row="0"
								Grid.Column="2"
								VerticalAlignment="Center"
								Content="Selection" />
							<ComboBox
								Name="SelectionComboBox"
								Grid.Row="0"
								Grid.Column="3"
								DisplayMemberPath="Key"
								Style="{StaticResource ComboBoxGrid}" />

							<ComboBox
								Name="DateComboBox"
								Grid.Row="1"
								Grid.Column="1"
								DisplayMemberPath="Key"
								Style="{StaticResource ComboBoxGrid}" />
							<Label
								Grid.Row="1"
								Grid.Column="0"
								VerticalAlignment="Center"
								Content="Date" />
							<Label Grid.Row="1" Grid.Column="2" Content="Document" />
							<ComboBox
								Name="FileComboBox"
								Grid.Row="1"
								Grid.Column="3"
								DisplayMemberPath="Key"
								Style="{StaticResource ComboBoxGrid}" />
							<StackPanel HorizontalAlignment="Stretch" Orientation="Vertical">
								<Button
									Name="PropertiesRefreshButton"
									Grid.Row="1"
									Grid.Column="3"
									Margin="0,0,3,0"
									VerticalAlignment="Center"
									Click="PropertiesRefreshButton_Click"
									Style="{StaticResource ToolBarButton}"
									Visibility="Collapsed">
									<StackPanel Style="{StaticResource ButtonStackPanel}">
										<ContentControl Content="{StaticResource Icon_Refresh}" Focusable="False" Style="{StaticResource ButtonContentControl}" />
										<Label VerticalAlignment="Center" Content="Refresh" Style="{StaticResource ButtonLabel}" />
									</StackPanel>
								</Button>
							</StackPanel>


						</Grid>


					</GroupBox>
					<GroupBox Margin="0,0,3,3" VerticalAlignment="Stretch" Visibility="{Binding BarPanelVisibility, ElementName=This}">
						<GroupBox.Header>
							<Label Padding="0" x:Name="AutomationVsLabel" Content="Automation" />
						</GroupBox.Header>
						<StackPanel Orientation="Vertical">
							<ComboBox
								Name="AutoOperationComboBox"
								Margin="0,6,0,3"
								ItemsSource="{Binding AutoOperations, ElementName=This}"
								SelectedValue="{Binding AutoOperation}" />
							<CheckBox
								x:Name="AutoFormatCodeCheckBox"
								Margin="0,6,0,3"
								Content="Format Code"
								IsChecked="{Binding AutoFormatCode}" />
						</StackPanel>
					</GroupBox>


				</WrapPanel>
				<Border Grid.Row="2" Background="{DynamicResource {x:Static SystemColors.ActiveBorderBrushKey}}" Opacity="0.25" />
				<StackPanel Grid.Row="2" Orientation="Horizontal" />
			</Grid>
			<!--  Row 3  -->
			<Border
				Grid.Row="3"
				Grid.ColumnSpan="4"
				BorderBrush="{DynamicResource {x:Static SystemColors.ActiveBorderBrushKey}}"
				BorderThickness="0,1,0,1">
				<!--  Hide in order to preved UI freeze whe WebBrowser is loading. It will be made visible in MainContro.xaml.cs.  -->
				<Chat:ChatControl x:Name="ChatPanel" x:FieldModifier="public" Visibility="Collapsed" />
			</Border>
			<!--  Row 4  -->
			<StackPanel
				Grid.Row="4"
				Grid.Column="0"
				Grid.ColumnSpan="3"
				Margin="0,3,0,3"
				Orientation="Horizontal">
				<CheckBox Name="ShowInstructionsCheckBox" Content="Show Instructions" IsChecked="{Binding ShowInstructions}" />
				<CheckBox Name="AutoGenerateTitleCheckBox" Content="Regenerate Title" IsChecked="{Binding AutoGenerateTitle}" />
				<CheckBox Name="AutoFormatMessageCheckBox" Padding="0" IsChecked="{Binding AutoFormatMessage}">
					<TextBlock VerticalAlignment="Center">
						<TextBlock Margin="0,0,3,0" /><Hyperlink NavigateUri="https://www.markdownguide.org/cheat-sheet/" RequestNavigate="HyperLink_RequestNavigate" TextDecorations="None">
							Markdown
						</Hyperlink>
						Auto-Format</TextBlock>
				</CheckBox>
				<CheckBox
					Name="IsPreviewCheckBox"
					Margin="5,0,0,0"
					Content="Preview Mode"
					IsChecked="{Binding IsPreview}" />
			</StackPanel>

			<StackPanel
				Grid.Row="4"
				Grid.Column="0"
				Grid.ColumnSpan="3"
				HorizontalAlignment="Right"
				Orientation="Horizontal">
				<Button
					Name="ScrollToBottomMessagesButton"
					Width="26"
					Height="26"
					Margin="2"
					Padding="0"
					HorizontalAlignment="Right"
					VerticalAlignment="Top"
					BorderBrush="Transparent"
					Click="ScrollToBottomButton_Click"
					Style="{StaticResource ToolBarButton}">
					<StackPanel Style="{StaticResource ButtonStackPanel}">
						<ContentControl
							VerticalAlignment="Bottom"
							Content="{StaticResource Icon_arrow_barrier_bottom}"
							Focusable="False"
							Style="{StaticResource ButtonContentControl}" />
					</StackPanel>
				</Button>
				<Button
					Name="ClearMessagesButton"
					Width="26"
					Height="26"
					Margin="0,2,2,0"
					Padding="0"
					HorizontalAlignment="Right"
					VerticalAlignment="Top"
					BorderBrush="Transparent"
					Click="ClearMessagesButton_Click"
					Style="{StaticResource ToolBarButton}">
					<StackPanel Style="{StaticResource ButtonStackPanel}">
						<ContentControl
							VerticalAlignment="Bottom"
							Content="{StaticResource Icon_broom}"
							Focusable="False"
							Style="{StaticResource ButtonContentControl}" />
					</StackPanel>
				</Button>
			</StackPanel>

		</Grid>

	</Grid>
</UserControl>
